modules = ["python-3.11", "nodejs-20"]

[nix]
channel = "stable-25_05"
packages = ["openssl", "postgresql", "unzip", "nano"]

[deployment]
deploymentTarget = "autoscale"
run = ["gunicorn", "--bind", "0.0.0.0:5000", "main:app"]

[workflows]
runButton = "Project"

[[workflows.workflow]]
name = "Project"
mode = "parallel"
author = "agent"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "Start application"

[[workflows.workflow]]
name = "Start application"
author = "agent"
<<<<<<< HEAD
=======
mode = "sequential"
>>>>>>> 171d3fa3da84255e10ef282644e05c8b50f3d62e

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "gunicorn --bind 0.0.0.0:5000 --reuse-port --reload main:app"
waitForPort = 5000

[[workflows.workflow]]
name = "Autodebuger"
mode = "sequential"
author = 45974913

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "#!/bin/bash  while true; do   clear   echo \"üöÄ Running main.py...\"   python3 main.py > app.log 2>&1   STATUS=$?   TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')    if [ $STATUS -ne 0 ]; then     echo \"‚ùå Crash detected at $TIMESTAMP\"     echo \"üîç Error summary:\"     tail -n 10 app.log     echo     echo \"üß† Attempting to analyze error...\"     ERROR=$(tail -n 10 app.log | grep \"Traceback\" -A 5 | tail -n 5)      if echo \"$ERROR\" | grep -qi \"SyntaxError\"; then       echo \"üí° Suggestion: Check for missing colons, indentation, or unmatched quotes.\"     elif echo \"$ERROR\" | grep -qi \"ImportError\"; then       echo \"üí° Suggestion: Missing dependency ‚Äî try 'pip install <package>'.\"     elif echo \"$ERROR\" | grep -qi \"ModuleNotFoundError\"; then       echo \"üí° Suggestion: Verify module name or install with 'pip install <module>'.\"     elif echo \"$ERROR\" | grep -qi \"NameError\"; then       echo \"üí° Suggestion: Undefined variable ‚Äî check variable name or scope.\"     elif echo \"$ERROR\" | grep -qi \"TypeError\"; then       echo \"üí° Suggestion: Wrong data type ‚Äî verify function arguments.\"     elif echo \"$ERROR\" | grep -qi \"ValueError\"; then       echo \"üí° Suggestion: Invalid value ‚Äî validate input parameters.\"     elif echo \"$ERROR\" | grep -qi \"IndexError\"; then       echo \"üí° Suggestion: List index out of range ‚Äî review loops and indexes.\"     else       echo \"üí° Suggestion: Review app.log for more details.\"     fi      echo \"ü©π Saving crash log to debug_report.txt\"     {       echo \"---- DEBUG REPORT ($TIMESTAMP) ----\"       tail -n 20 app.log       echo \"----------------------------------\"     } >> debug_report.txt      echo \"üîÅ Rebooting in 5 seconds...\"     sleep 5    else     echo \"‚úÖ App ran successfully at $TIMESTAMP\"     echo \"üß≠ Checking Git repository status...\"     git fetch origin main > /dev/null 2>&1      if ! git pull --rebase > git_error.log 2>&1; then       echo \"‚ö†Ô∏è Git pull failed ‚Äî logged to git_error.log\"     fi      if ! git diff --quiet; then       echo \"üíæ Detected local code changes ‚Äî preparing safe commit...\"       git add . > /dev/null 2>&1       if git commit -m \"Auto-fix detected at $TIMESTAMP\" > /dev/null 2>&1; then         echo \"‚úÖ Commit created. Attempting push...\"         if ! git push origin main > git_error.log 2>&1; then           echo \"‚ö†Ô∏è Git push failed ‚Äî logged to git_error.log\"         else           echo \"üöÄ Successfully pushed latest stable version to GitHub!\"         fi       else         echo \"‚ö†Ô∏è Nothing new to commit.\"       fi     else       echo \"‚úîÔ∏è No new changes detected.\"     fi      echo \"üïµÔ∏è Monitoring for file changes...\"     inotifywait -e modify,create,delete -r . >/dev/null 2>&1     echo \"üîÅ Change detected ‚Äî restarting...\"   fi done"

[[ports]]
localPort = 5000
externalPort = 80

[[ports]]
localPort = 40935
externalPort = 3002

[[ports]]
localPort = 45495
externalPort = 3000

[agent]
integrations = ["python_openai:1.0.0", "twilio_send_message:1.0.0"]
